# Frontend æ¶æ§‹èªªæ˜

## ğŸ“ ç›®éŒ„çµæ§‹

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ apps/                    # æ‡‰ç”¨ç¨‹å¼åˆ†é›¢
â”‚   â”‚   â”œâ”€â”€ liff/                # LIFF ç—…æ‚£ç«¯æ‡‰ç”¨
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/           # LIFF é é¢
â”‚   â”‚   â”‚   â”œâ”€â”€ components/      # LIFF å°ˆç”¨å…ƒä»¶
â”‚   â”‚   â”‚   â””â”€â”€ routes.jsx       # LIFF è·¯ç”±é…ç½®
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ dashboard/           # Dashboard æ²»ç™‚å¸«ç«¯æ‡‰ç”¨
â”‚   â”‚       â”œâ”€â”€ pages/           # Dashboard é é¢
â”‚   â”‚       â”œâ”€â”€ components/      # Dashboard å°ˆç”¨å…ƒä»¶
â”‚   â”‚       â”œâ”€â”€ layouts/         # Dashboard ä½ˆå±€å…ƒä»¶
â”‚   â”‚       â””â”€â”€ routes.jsx       # Dashboard è·¯ç”±é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ shared/                  # å…±ç”¨è³‡æº
â”‚   â”‚   â”œâ”€â”€ api/                 # API å®¢æˆ¶ç«¯å’Œ hooks
â”‚   â”‚   â”œâ”€â”€ contexts/            # React Context (Auth, Theme)
â”‚   â”‚   â”œâ”€â”€ components/          # å…±ç”¨å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½å¼å’Œ mock è³‡æ–™
â”‚   â”‚   â””â”€â”€ config.js            # å…¨åŸŸé…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ assets/                  # éœæ…‹è³‡æº
â”‚   â”œâ”€â”€ styles/                  # å…¨åŸŸæ¨£å¼
â”‚   â””â”€â”€ App.jsx                  # ä¸»æ‡‰ç”¨ç¨‹å¼é€²å…¥é»
```

## ğŸ¯ æ¶æ§‹å„ªå‹¢

### 1. æ¸…æ™°çš„é—œæ³¨é»åˆ†é›¢

- **LIFF æ‡‰ç”¨**ï¼šå°ˆæ³¨æ–¼ç—…æ‚£ç«¯åŠŸèƒ½ï¼ˆå•å·ã€èªéŸ³å°è©±ã€å¥åº·è¨˜éŒ„ï¼‰
- **Dashboard æ‡‰ç”¨**ï¼šå°ˆæ³¨æ–¼æ²»ç™‚å¸«ç«¯ç®¡ç†ï¼ˆå€‹æ¡ˆç®¡ç†ã€æ•¸æ“šåˆ†æã€ä»»å‹™ç®¡ç†ï¼‰
- **Shared è³‡æº**ï¼šé¿å…é‡è¤‡ä»£ç¢¼ï¼Œçµ±ä¸€ç®¡ç†å…±ç”¨é‚è¼¯

### 2. ç¨ç«‹é–‹ç™¼å’Œéƒ¨ç½²

- å…©å€‹æ‡‰ç”¨å¯ä»¥ç¨ç«‹é–‹ç™¼ï¼Œä¸æœƒäº’ç›¸å¹²æ“¾
- å¯ä»¥æœ‰ä¸åŒçš„è¨­è¨ˆé¢¨æ ¼å’Œ UI æ¡†æ¶
- æœªä¾†å¯ä»¥è¼•é¬†åˆ†é›¢æˆå…©å€‹ç¨ç«‹å°ˆæ¡ˆ

### 3. æ›´å¥½çš„ç¨‹å¼ç¢¼çµ„ç¹”

- æ¯å€‹æ‡‰ç”¨æœ‰è‡ªå·±çš„è·¯ç”±ç³»çµ±
- å°ˆå±¬å…ƒä»¶å’Œé é¢æ¸…æ¥šåˆ†é¡
- å…±ç”¨é‚è¼¯é›†ä¸­ç®¡ç†

## ğŸš€ è·¯ç”±æ¶æ§‹

### LIFF è·¯ç”± (`/liff/*`)

```
/liff                    # LIFF ä¸»é ï¼ˆDashboardï¼‰
/liff/voice-chat         # èªéŸ³å°è©±
/liff/daily-metrics      # æ¯æ—¥å¥åº·è¨˜éŒ„
/liff/questionnaire/cat  # CAT å•å·
/liff/questionnaire/mmrc # mMRC å•å·
/liff/register           # è¨»å†Šé é¢
```

### Dashboard è·¯ç”± (`/dashboard/*`)

```
/dashboard/overview      # ç¸½è¦½é 
/dashboard/cases         # å€‹æ¡ˆåˆ—è¡¨
/dashboard/cases/:id     # å€‹æ¡ˆè©³æƒ…
/dashboard/education     # è¡›æ•™è³‡æº
/dashboard/tasks         # ä»»å‹™ç®¡ç†
```

## ğŸ”§ é–‹ç™¼æŒ‡å—

### æ–°å¢ LIFF é é¢

1. åœ¨ `src/apps/liff/pages/` å»ºç«‹æ–°é é¢å…ƒä»¶
2. åœ¨ `src/apps/liff/routes.jsx` è¨»å†Šè·¯ç”±
3. å°ˆå±¬å…ƒä»¶æ”¾åœ¨ `src/apps/liff/components/`

### æ–°å¢ Dashboard é é¢

1. åœ¨ `src/apps/dashboard/pages/` å»ºç«‹æ–°é é¢å…ƒä»¶
2. åœ¨ `src/apps/dashboard/routes.jsx` è¨»å†Šè·¯ç”±
3. å°ˆå±¬å…ƒä»¶æ”¾åœ¨ `src/apps/dashboard/components/`

### å…±ç”¨è³‡æº

- API hooks: `src/shared/api/hooks.js`
- å·¥å…·å‡½å¼: `src/shared/utils/`
- å…±ç”¨å…ƒä»¶: `src/shared/components/`
- å…¨åŸŸé…ç½®: `src/shared/config.js`

## ğŸ“ æ³¨æ„äº‹é …

1. **Import è·¯å¾‘**ï¼šä½¿ç”¨ç›¸å°è·¯å¾‘æ™‚è¦æ³¨æ„ç›®éŒ„å±¤ç´š
2. **æ¨£å¼éš”é›¢**ï¼šè€ƒæ…®ä½¿ç”¨ CSS Modules æˆ– styled-components é¿å…æ¨£å¼è¡çª
3. **ç‹€æ…‹ç®¡ç†**ï¼šä½¿ç”¨ Context API é€²è¡Œè·¨å…ƒä»¶ç‹€æ…‹å…±äº«
4. **æ¬Šé™æ§åˆ¶**ï¼šDashboard éœ€è¦ `is_staff` æ¬Šé™ï¼ŒLIFF é–‹æ”¾çµ¦ä¸€èˆ¬ç”¨æˆ¶

## ğŸ¨ è¨­è¨ˆåŸå‰‡

### LIFF æ‡‰ç”¨

- è¡Œå‹•å„ªå…ˆè¨­è¨ˆ
- ç°¡æ½”ç›´è§€çš„ä»‹é¢
- å¤§æŒ‰éˆ•å’Œæ¸…æ™°çš„æ–‡å­—
- æ”¯æ´ LINE å…§åµŒç€è¦½å™¨

### Dashboard æ‡‰ç”¨

- æ¡Œé¢å„ªå…ˆï¼ŒéŸ¿æ‡‰å¼è¨­è¨ˆ
- è³‡æ–™è¦–è¦ºåŒ–ç‚ºä¸»
- å°ˆæ¥­çš„ç®¡ç†ä»‹é¢
- è±å¯Œçš„äº’å‹•åŠŸèƒ½

## ğŸš¦ éƒ¨ç½²ç­–ç•¥

### é–‹ç™¼ç’°å¢ƒ

```bash
npm run dev
# è¨ªå• http://localhost:3000/liff (ç—…æ‚£ç«¯)
# è¨ªå• http://localhost:3000/dashboard (æ²»ç™‚å¸«ç«¯)
```

### ç”Ÿç”¢ç’°å¢ƒ

```bash
npm run build
# è¼¸å‡ºåˆ° dist/ ç›®éŒ„
# é…ç½® Nginx é€²è¡Œè·¯ç”±
```

## ğŸ“Š æ•ˆèƒ½å„ªåŒ–

1. **ç¨‹å¼ç¢¼åˆ†å‰²**ï¼šä½¿ç”¨ React.lazy() é€²è¡Œè·¯ç”±å±¤ç´šåˆ†å‰²
2. **å…±ç”¨å…ƒä»¶å¿«å–**ï¼šé¿å…é‡è¤‡æ‰“åŒ…å…±ç”¨è³‡æº
3. **API å¿«å–**ï¼šä½¿ç”¨ React Query é€²è¡Œæ™ºèƒ½å¿«å–
4. **åœ–ç‰‡å„ªåŒ–**ï¼šä½¿ç”¨é©ç•¶çš„åœ–ç‰‡æ ¼å¼å’Œå¤§å°

## ğŸ”’ å®‰å…¨è€ƒé‡

1. **æ¬Šé™é©—è­‰**ï¼šDashboard è·¯ç”±éœ€è¦é©—è­‰æ²»ç™‚å¸«èº«ä»½
2. **Token ç®¡ç†**ï¼šçµ±ä¸€åœ¨ AuthContext ç®¡ç†
3. **API å®‰å…¨**ï¼šæ‰€æœ‰ API è«‹æ±‚éƒ½å¸¶æœ‰èªè­‰ header
4. **è³‡æ–™é©—è­‰**ï¼šå‰ç«¯é€²è¡ŒåŸºæœ¬é©—è­‰ï¼Œå¾Œç«¯é€²è¡Œå®Œæ•´é©—è­‰
